{% extends "index.html" %}

<!-- this removes the header -->
{% block header %}{% endblock %}

{% block main %}
<div class="flex justify-center pt-10 pb-20 bg-cyan-600"> 
  <div class="bg-cyan-50 shadow-lg rounded-2xl p-8 w-full max-w-lg border border-cyan-200">
    <h2 class="text-2xl font-semibold text-center text-cyan-700 mb-6">
      Upload Your File
    </h2>

    <form method="POST" enctype="multipart/form-data" class="space-y-5">
      {{ form.hidden_tag() }}

      <div>
        <label class="block text-gray-700 font-medium mb-1">{{ form.description.label }}</label>
        {{ form.description(class="w-full px-4 py-2 border border-cyan-300 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:outline-none") }}
      </div>

      <div>
        <label class="block text-gray-700 font-medium mb-1">{{ form.file.label }}</label>
        {{ form.file(class="w-full px-4 py-2 border border-cyan-300 rounded-xl bg-cyan-100 cursor-pointer focus:ring-2 focus:ring-cyan-400 focus:outline-none", accept="image/*") }}
      </div>

      <div class="flex items-center space-x-2">
        {{ form.is_timed(class="rounded text-cyan-600 focus:ring-cyan-400") }}
        <label class="text-gray-700">{{ form.is_timed.label }}</label>
      </div>

      <div>
        <label class="block text-gray-700 font-medium mb-1">{{ form.start_time.label }}</label>
        {{ form.start_time(class="w-full px-4 py-2 border border-cyan-300 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:outline-none") }}
      </div>

      <div>
        <label class="block text-gray-700 font-medium mb-1">{{ form.end_time.label }}</label>
        {{ form.end_time(class="w-full px-4 py-2 border border-cyan-300 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:outline-none") }}
      </div>
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <div class="mb-4">
        {% for category, message in messages %}
          {% if category == 'error' %}
            <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded mb-2 text-center">
          {{ message }}
            </div>
          {% endif %}
        {% endfor %}
          </div>
        {% endif %}
      {% endwith %}
      <div class="text-center">
        {{ form.submit(class="bg-cyan-500 hover:bg-cyan-600 text-white font-semibold px-6 py-2 rounded-xl shadow transition duration-200") }}
      </div>
    </form>
  </div>
</div>
{% endblock %}
